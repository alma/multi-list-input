<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Alma Multi List Input</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="multi-input.css">
</head>
<body>
    <h2>IP Addresses</h2>
    <div id="ip_addresses"></div>
    <h2>Emails</h2>
    <div id="emails"></div>
    <h2>Tags</h2>
    <div id="tags"></div>
    <h2>Card Filters</h2>
    <div id="cards"></div>

<!--    <ul id="ui-id-299" tabindex="0" class="ui-menu ui-widget ui-widget-content ui-autocomplete ui-front" style="display: block; top: 429.817px; left: 264px; width: 343px;"><li class="ui-menu-item"><div id="ui-id-461" tabindex="-1" class="ui-menu-item-wrapper">bite</div></li><li class="ui-menu-item"><div id="ui-id-462" tabindex="-1" class="ui-menu-item-wrapper ui-state-active">delivered_despite_interruption_notice</div></li><li class="ui-menu-item"><div id="ui-id-463" tabindex="-1" class="ui-menu-item-wrapper">disputed</div></li><li class="ui-menu-item"><div id="ui-id-464" tabindex="-1" class="ui-menu-item-wrapper">freeze_related_late_default</div></li><li class="ui-menu-item"><div id="ui-id-465" tabindex="-1" class="ui-menu-item-wrapper">manual_review:next_action_date</div></li><li class="ui-menu-item"><div id="ui-id-466" tabindex="-1" class="ui-menu-item-wrapper">manual_review:next_cation_date:20200626</div></li><li class="ui-menu-item"><div id="ui-id-467" tabindex="-1" class="ui-menu-item-wrapper">manual_review:no_reply_despite_interruption_notice</div></li><li class="ui-menu-item"><div id="ui-id-468" tabindex="-1" class="ui-menu-item-wrapper">meme_cb_mais_tout_le_reste_est_different_:_flag_fr</div></li><li class="ui-menu-item"><div id="ui-id-469" tabindex="-1" class="ui-menu-item-wrapper">orni_compensated</div></li><li class="ui-menu-item"><div id="ui-id-470" tabindex="-1" class="ui-menu-item-wrapper">orni_dispute</div></li><li class="ui-menu-item"><div id="ui-id-471" tabindex="-1" class="ui-menu-item-wrapper">orni_retracted</div></li><li class="ui-menu-item"><div id="ui-id-472" tabindex="-1" class="ui-menu-item-wrapper">recov:next_action_date</div></li><li class="ui-menu-item"><div id="ui-id-473" tabindex="-1" class="ui-menu-item-wrapper">remview:related:unfinished_or_refunded</div></li><li class="ui-menu-item"><div id="ui-id-474" tabindex="-1" class="ui-menu-item-wrapper">review:phone_operator:blacklisted</div></li><li class="ui-menu-item"><div id="ui-id-475" tabindex="-1" class="ui-menu-item-wrapper">review:related:1_installment_paid</div></li><li class="ui-menu-item"><div id="ui-id-476" tabindex="-1" class="ui-menu-item-wrapper">review:related:fraudulent</div></li><li class="ui-menu-item"><div id="ui-id-477" tabindex="-1" class="ui-menu-item-wrapper">review:related:late_or_default</div></li><li class="ui-menu-item"><div id="ui-id-478" tabindex="-1" class="ui-menu-item-wrapper">review:related:late_or_defaultss</div></li><li class="ui-menu-item"><div id="ui-id-479" tabindex="-1" class="ui-menu-item-wrapper">review:related:unfinished_or_refunded</div></li><li class="ui-menu-item"><div id="ui-id-480" tabindex="-1" class="ui-menu-item-wrapper">review:ubble_in_maintenance</div></li><li class="ui-menu-item"><div id="ui-id-481" tabindex="-1" class="ui-menu-item-wrapper">scoring:maybe:incomplete_customer</div></li><li class="ui-menu-item"><div id="ui-id-482" tabindex="-1" class="ui-menu-item-wrapper">test</div></li></ul> -->
    
  <script src="app.js"></script>
  <script>
    const tags_element = document.getElementById("tags");
    const tags_app = Elm.Main.init({
      node: tags_element,
      flags: {
        items: ["manual_review:ask_id", "recov:sms1", "recov:sms2"],
        auto_complete_items: ["recov:sms1"],
        list_type: "tags"
      }
    });
    tags_app.ports.itemsUpdate.subscribe(function(newList) {
      console.log("Tags new list:", newList);
      tags_app.ports.itemsSaved.send();
    });
  </script>
  <script>
    const emails_element = document.getElementById("emails");
    const emails_app = Elm.Main.init({
      node: emails_element,
      flags: {
        items: ["youpi@yopmail.com", "contact@getalma.eu"],
        auto_complete_items: [],
        list_type: "emails"
      }
    });
    emails_app.ports.itemsUpdate.subscribe(function(newList) {
      console.log("Emails new list:", newList);
      emails_app.ports.itemsSaved.send();
    });
  </script>
  <script>
    const ip_addresses_element = document.getElementById("ip_addresses");
    const ip_addresses_app = Elm.Main.init({
      node: ip_addresses,
      flags: {
        items: ["127.0.0.1", "0:0:0:0:0:ffff:7f00:1"],
        auto_complete_items: [],
        list_type: "ips"
      }
    });

    ip_addresses_app.ports.itemsUpdate.subscribe(function(newList) {
      console.log("IP addresses new list:", newList);
      ip_addresses_app.ports.itemsSaved.send();
    });
  </script>
  <script>
    const card_filters_element = document.getElementById("cards");
    const card_filters_app = Elm.Main.init({
      node: cards,
      flags: {
        items: ["issuer:La Banque Postale", "brand:visa", "country:FR", "funding:DEBIT", "iin:401030", "card_type:%Visa Electron%"],
        auto_complete_items: [],
        list_type: "card_filters"
      }
    });

    card_filters_app.ports.itemsUpdate.subscribe(function(newList) {
      console.log("Filters:", newList);
      card_filters_app.ports.itemsSaved.send();
    });
  </script>
</body>
</html>
